<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:title" content="Nosferatu Allucard" />
  <meta property="og:description" content="Criador Oficial • Once Human" />
  <meta property="og:image"
    content="https://raw.githubusercontent.com/victorndesigner/allucard/main/assets/img/icon.png" />
  <meta property="og:url" content="https://www.twitch.tv/nosferatu_allucard" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Pássaro de Hermes" />
  <meta property="og:locale" content="pt_BR" />
  <meta property="og:image:alt" content="Banner Nosferatu Allucard" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="1200" />
  <link rel="icon" type="image/png"
    href="https://raw.githubusercontent.com/victorndesigner/allucard/main/assets/img/icon.png">
  <meta name="twitter:image"
    content="https://raw.githubusercontent.com/victorndesigner/allucard/main/assets/img/icon.png" />
  <meta name="theme-color" content="#ff1f1f" />
  <title>Pássaro de Hermes</title>

  <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/victorndesigner/allucard/main/img/icon.png">
  <link rel="stylesheet" href="assets/style.css">

  <style>
    .search-area {
      margin-bottom: 30px;
      display: flex;
      justify-content: center;
      gap: 15px;
    }

    #searchInput {
      padding: 15px 30px;
      border-radius: 50px;
      border: 1px solid var(--vidro-borda);
      background: var(--vidro-bg);
      color: #fff;
      width: 100%;
      max-width: 450px;
      outline: none;
      transition: var(--transicao);
      backdrop-filter: blur(10px);
    }

    #searchInput:focus {
      border-color: var(--cor-primaria);
      box-shadow: 0 0 20px rgba(255, 0, 0, 0.3);
    }

    .fav-toggle-btn {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--vidro-borda);
      color: #fff;
      padding: 10px 25px;
      border-radius: 50px;
      cursor: pointer;
      font-weight: 700;
      transition: var(--transicao);
    }

    .fav-toggle-btn:hover,
    .fav-toggle-btn.active {
      background: var(--cor-primaria);
      border-color: var(--cor-primaria);
      box-shadow: var(--glow-primario);
    }

    .video-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 40px;
    }

    .updated-badge {
      display: inline-block;
      color: #fff !important;
      background: var(--cor-primaria);
      padding: 3px 12px;
      border-radius: 4px;
      font-size: 0.65rem;
      font-weight: 800;
      margin: 15px auto 0;
      text-transform: uppercase;
      box-shadow: var(--glow-primario);
      letter-spacing: 1px;
    }

    .fav-btn-action {
      margin-top: 20px;
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid var(--vidro-borda);
      color: #fff;
      padding: 8px 20px;
      border-radius: 50px;
      cursor: pointer;
      font-size: 0.85rem;
      font-weight: 600;
      transition: var(--transicao);
    }

    .fav-btn-action.is-fav {
      background: var(--cor-primaria);
      border-color: var(--cor-primaria);
    }

    #favoritesSection {
      display: none;
      margin-bottom: 60px;
      padding-bottom: 50px;
      border-bottom: 2px dashed rgba(255, 0, 0, 0.2);
    }

    .section-title {
      color: var(--cor-primaria);
      margin-bottom: 35px;
      font-size: 2rem;
      text-transform: uppercase;
    }
  </style>
</head>

<body>

  <div id="preloader">
    <div class="dots">
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
    </div>
  </div>

  <header class="navbar">
    <a href="/" class="logo" data-pt="Pássaro de Hermes" data-en="Bird of Hermes">Pássaro de Hermes</a>

    <!-- Desktop Menu -->
    <nav class="navbar-links desktop-only">
      <a href="/" data-pt="Início" data-en="Home">Início</a>
      <a href="/builds" class="active" data-pt="Builds" data-en="Builds">Builds</a>
      <a href="/specs" data-pt="Especializações" data-en="Specializations">Especializações</a>
    </nav>

    <div class="lang-switch desktop-only">
      <span id="ptBtn" class="lang-btn">BR</span>
      <span id="enBtn" class="lang-btn">US</span>
    </div>

    <!-- Mobile Menu Toggle -->
    <button class="hamburger-menu" aria-label="Menu">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>
  </header>

  <!-- Mobile Menu Sidebar -->
  <div class="mobile-menu-overlay"></div>
  <div class="mobile-menu-sidebar">
    <button class="close-menu-btn">&times;</button>
    <nav class="mobile-nav-links">
      <a href="/" data-pt="Início" data-en="Home">Início</a>
      <a href="/builds" class="active" data-pt="Builds" data-en="Builds">Builds</a>
      <a href="/specs" data-pt="Especializações" data-en="Specializations">Especializações</a>
    </nav>
    <div class="mobile-lang-switch">
      <span id="ptBtnMobile" class="lang-btn">BR</span>
      <span id="enBtnMobile" class="lang-btn">US</span>
    </div>
  </div>

  <main class="content">
    <h1 data-pt="BUILDS DO <span>CANAL</span>" data-en="CHANNEL <span>BUILDS</span>">BUILDS DO <span>CANAL</span></h1>

    <div class="search-area">
      <input type="text" id="searchInput" placeholder="Pesquise um título..." data-pt="Pesquise um título..."
        data-en="Search a title...">
      <button class="fav-toggle-btn" id="favToggle" data-pt="Favoritos" data-en="Favorites">⭐ Favoritos</button>
    </div>

    <section id="favoritesSection">
      <h2 class="section-title" data-pt="Seus Favoritos" data-en="Your Favorites">Seus Favoritos</h2>
      <div id="favList" class="video-grid"></div>
    </section>

    <section id="allVideos">
      <div id="videoList" class="video-grid"></div>
    </section>
  </main>

  <footer>
    <span data-pt="&copy; Pássaro de Hermes. Todos os direitos reservados."
      data-en="&copy; Bird of Hermes. All rights reserved.">
      &copy; Pássaro de Hermes. Todos os direitos reservados.
    </span>
    <a href="https://www.youtube.com/@Nosferatu_Allucard" target="_blank" class="footer-mention">@Nosferatu_Allucard</a>
  </footer>

  <div class="particles" id="particles"></div>

  <script src="assets/videos.js"></script>
  <script src="assets/script.js"></script>
  <script>
    let favorites = JSON.parse(localStorage.getItem("favorites")) || [];

    // Helper para extrair ID do YouTube de qualquer formato de link
    function getYouTubeID(url) {
      const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
      const match = url.match(regExp);
      return (match && match[2].length === 11) ? match[2] : null;
    }

    function renderVideos() {
      if (typeof videos === 'undefined') return;
      const container = document.getElementById("videoList");
      const favContainer = document.getElementById("favList");
      const lang = localStorage.getItem('lang') || 'pt';

      container.innerHTML = "";
      favContainer.innerHTML = "";

      videos.forEach(video => {
        const isFav = favorites.includes(video.url);
        const card = createCard(video, isFav, lang);
        container.appendChild(card);

        if (isFav) {
          favContainer.appendChild(createCard(video, true, lang, true));
        }
      });

      document.getElementById("favoritesSection").style.display = favorites.length > 0 && document.getElementById("favToggle").classList.contains("active") ? "block" : "none";
    }

    function createCard(video, isFav, lang, isFavList = false) {
      const div = document.createElement("div");
      div.className = "video-card";

      const videoId = getYouTubeID(video.url);
      const updatedText = lang === 'pt' ? 'ATUALIZADO' : 'UPDATED';
      const favText = isFav ? (lang === 'pt' ? 'Remover' : 'Remove') : (lang === 'pt' ? 'Favoritar' : 'Favorite');

      div.innerHTML = `
                <h2>${video.title}</h2>
                <a href="${video.url}" target="_blank" class="video-thumbnail">
                    <img src="https://img.youtube.com/vi/${videoId}/maxresdefault.jpg" alt="${video.title}">
                    <div class="play-overlay">
                        <svg viewBox="0 0 24 24" width="30" fill="white"><path d="M8 5v14l11-7z"/></svg>
                    </div>
                </a>
                <div style="text-align: center;">
                    ${video.updated ? `<span class="updated-badge">${updatedText}</span>` : ""}
                </div>
                ${!isFavList ? `<button class="fav-btn-action ${isFav ? 'is-fav' : ''}" onclick="toggleFav('${video.url}')">${favText}</button>` : ""}
            `;
      return div;
    }

    window.toggleFav = (url) => {
      if (favorites.includes(url)) {
        favorites = favorites.filter(f => f !== url);
      } else {
        favorites.push(url);
      }
      localStorage.setItem("favorites", JSON.stringify(favorites));
      renderVideos();
    };

    document.getElementById("favToggle").addEventListener("click", function () {
      this.classList.toggle("active");
      renderVideos();
    });

    document.getElementById("searchInput").addEventListener("input", function () {
      const val = this.value.toLowerCase();
      document.querySelectorAll("#videoList .video-card").forEach(card => {
        const title = card.querySelector("h2").textContent.toLowerCase();
        card.style.display = title.includes(val) ? "block" : "none";
      });
    });

    renderVideos();
  </script>
</body>

</html>